<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>São Patrício - Consultoria de Fragrâncias</title>
    
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CONFIGURAÇÕES VISUAIS --- */
        :root {
            --brand-teal: #2eb0b8;   
            --brand-blue: #00235d;   
            --brand-rose: #d4889e;   
            --bg-color: #f4f7f6;     
            --card-bg: #ffffff;      
            --text-color: #333333;   
            --star-color: #FFD700;   
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 20px 10px; /* Reduzi padding lateral para mobile */
        }

        .logo-top {
            max-width: 250px;
            height: auto;
            margin-bottom: 10px;
            margin-top: 10px;
        }

        h1.titulo-principal {
            color: var(--brand-blue);
            font-size: 1.6rem;
            margin-bottom: 5px;
        }

        p.subtitulo {
            color: #666;
            font-size: 1rem;
            margin-bottom: 30px;
        }

        /* --- FILTROS (ACCORDION) --- */
        .filtros-wrapper {
            max-width: 600px;
            margin: 0 auto 40px auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .btn-reset-todos {
            background: none;
            border: none;
            color: #888;
            font-weight: bold;
            cursor: pointer;
            padding: 10px;
            text-decoration: underline;
        }

        .filtros-flex-container {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .filtro-coluna {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .btn-main-genero {
            background-color: white;
            border: 2px solid transparent;
            padding: 12px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            color: #666;
            width: 100%;
        }

        .btn-main-genero.masc:hover, .btn-main-genero.masc.ativo {
            background-color: var(--brand-teal); color: white;
        }
        .btn-main-genero.fem:hover, .btn-main-genero.fem.ativo {
            background-color: var(--brand-rose); color: white;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, opacity 0.4s ease-out;
            opacity: 0;
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 0;
        }

        .filtro-coluna.ativo .accordion-content {
            max-height: 150px;
            opacity: 1;
            margin-top: 10px;
        }

        .btn-sub {
            background-color: transparent;
            border: 1px solid #ddd;
            color: #888;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }

        .filtro-coluna.masc .btn-sub.ativo { background-color: var(--brand-teal); color: white; border-color: var(--brand-teal); }
        .filtro-coluna.fem .btn-sub.ativo { background-color: var(--brand-rose); color: white; border-color: var(--brand-rose); }

        /* BUSCA */
        .search-container { margin-bottom: 30px; display: flex; justify-content: center; }
        .search-input { width: 100%; max-width: 400px; padding: 12px 20px; font-size: 1rem; border: 2px solid #e1e1e1; border-radius: 50px; outline: none; }
        .search-input:focus { border-color: var(--brand-teal); }

        /* VITRINE */
        .vitrine { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; max-width: 1400px; margin: 0 auto; }
        .card { background-color: var(--card-bg); border: 1px solid #e1e1e1; border-radius: 20px; width: 280px; padding: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); transition: all 0.3s; display: flex; flex-direction: column; cursor: pointer; position: relative; }
        .foto-perfume { width: 100%; height: 220px; object-fit: cover; border-radius: 15px; margin-bottom: 15px; }
        .nome { color: var(--brand-blue); font-size: 1.2rem; font-weight: 700; margin-bottom: 2px; }
        .marca { color: #888; font-size: 0.8rem; text-transform: uppercase; margin-bottom: 5px; }
        .avaliacao { color: var(--star-color); font-size: 0.9rem; margin-bottom: 10px; }
        .preco { color: var(--brand-teal); font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; }
        .btn-ver-detalhes { background-color: transparent; border: 2px solid var(--brand-blue); color: var(--brand-blue); width: 100%; padding: 8px; border-radius: 10px; font-weight: bold; margin-top: auto; }

        /* --- MODAL (CONFIGURAÇÃO BLINDADA PARA MOBILE) --- */
        .modal-overlay {
            display: none; 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.8); z-index: 2000;
            justify-content: center; align-items: center; backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 900px;
            border-radius: 20px;
            padding: 30px;
            position: relative;
            display: flex;
            gap: 30px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            animation: zoomIn 0.3s ease;
            max-height: 90vh; /* Garante que não passa da altura da tela */
            overflow: hidden; /* Desktop não precisa rolar */
        }

        @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        .btn-fechar { position: absolute; top: 15px; right: 20px; font-size: 2rem; color: #888; cursor: pointer; border: none; background: none; z-index: 10; }
        
        .modal-col-esq { 
            flex: 1; 
            background-color: #f4f7f6; 
            border-radius: 15px; 
            min-width: 250px; 
            display: flex; align-items: center; justify-content: center;
        }
        .modal-foto-grande { width: 100%; height: 100%; object-fit: contain; border-radius: 15px; }
        
        .modal-col-dir { 
            flex: 1.5; 
            text-align: left; 
            display: flex; flex-direction: column; justify-content: center; 
            overflow-y: auto; /* Permite rolar só o texto se precisar */
        }

        .modal-titulo { font-size: 1.8rem; color: var(--brand-blue); margin-bottom: 5px; }
        .modal-descricao { font-size: 1rem; color: #555; line-height: 1.5; margin-bottom: 20px; font-style: italic; }
        
        .look-card { background-color: #f9f9f9; border: 1px solid #eee; border-radius: 15px; padding: 15px; display: flex; align-items: center; gap: 20px; margin-bottom: 20px; }
        .look-foto { width: 80px; height: 80px; border-radius: 10px; object-fit: cover; border: 2px solid var(--brand-teal); flex-shrink: 0; }
        .look-texto h4 { margin: 0 0 5px 0; color: var(--brand-blue); font-size: 1rem; }
        .look-texto p { margin: 0; font-size: 0.85rem; color: #666; }
        
        .btn-comprar-modal { background-color: var(--brand-teal); color: white; border: none; padding: 15px; font-size: 1.1rem; font-weight: bold; border-radius: 10px; cursor: pointer; width: 100%; }

        /* --- CORREÇÃO AGRESSIVA PARA CELULAR --- */
        @media (max-width: 768px) {
            .modal-content {
                flex-direction: column !important; /* Um embaixo do outro */
                width: 90% !important;
                height: auto !important;
                max-height: 85vh !important; /* Altura máxima segura */
                padding: 20px !important;
                overflow-y: auto !important; /* Habilita rolagem vertical */
                display: flex !important;
                gap: 15px !important;
            }

            .modal-col-esq {
                width: 100% !important;
                height: 200px !important; /* Altura fixa menor para a foto */
                min-width: 0 !important; /* Remove largura mínima que quebrava o layout */
                flex-shrink: 0 !important;
            }

            .modal-foto-grande {
                height: 100% !important;
                width: 100% !important;
                object-fit: contain !important; /* Garante que a foto caiba */
            }

            .modal-col-dir {
                width: 100% !important;
                min-width: 0 !important;
                text-align: center !important; /* Centraliza tudo */
                display: block !important;
                padding-bottom: 20px;
            }

            .btn-fechar {
                top: 5px;
                right: 10px;
                background-color: rgba(255,255,255,0.9);
                border-radius: 50%;
                width: 35px; height: 35px;
            }

            /* Look Card no Mobile */
            .look-card {
                flex-direction: column !important;
                text-align: center !important;
                gap: 10px !important;
            }
            
            .modal-titulo { font-size: 1.5rem; margin-top: 10px; }
        }

        .btn-whatsapp-float { position: fixed; bottom: 30px; right: 30px; background-color: #25D366; color: white; width: 60px; height: 60px; border-radius: 50%; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 1000; display: flex; align-items: center; justify-content: center; }
        .btn-whatsapp-float i { font-size: 30px; }

    </style>
</head>
<body>

    <img src="logo.png" alt="São Patrício Logo" class="logo-top" onerror="this.style.display='none'">
    
    <h1 class="titulo-principal">Consultoria de Fragrâncias e Estilo</h1>
    <p class="subtitulo">Descubra o perfume ideal para cada momento.</p>

    <div class="filtros-wrapper">
        <button class="btn-reset-todos" onclick="resetarFiltros()">Ver Todos os Perfumes</button>

        <div class="filtros-flex-container">
            <div class="filtro-coluna masc" id="col-masc">
                <button class="btn-main-genero masc" onclick="toggleAccordion('masculino')">
                    <i class="fa-solid fa-mars"></i> Para Eles
                </button>
                <div class="accordion-content">
                    <button class="btn-sub ativo" onclick="filtrarFinal('masculino', 'todos', this)">Tudo</button>
                    <button class="btn-sub" onclick="filtrarFinal('masculino', 'dia', this)"><i class="fa-regular fa-sun"></i> Dia</button>
                    <button class="btn-sub" onclick="filtrarFinal('masculino', 'noite', this)"><i class="fa-solid fa-moon"></i> Noite</button>
                </div>
            </div>

            <div class="filtro-coluna fem" id="col-fem">
                <button class="btn-main-genero fem" onclick="toggleAccordion('feminino')">
                    <i class="fa-solid fa-venus"></i> Para Elas
                </button>
                <div class="accordion-content">
                    <button class="btn-sub ativo" onclick="filtrarFinal('feminino', 'todos', this)">Tudo</button>
                    <button class="btn-sub" onclick="filtrarFinal('feminino', 'dia', this)"><i class="fa-regular fa-sun"></i> Dia</button>
                    <button class="btn-sub" onclick="filtrarFinal('feminino', 'noite', this)"><i class="fa-solid fa-moon"></i> Noite</button>
                </div>
            </div>
        </div>
    </div>

    <div class="search-container">
        <input type="text" id="campo-busca" class="search-input" placeholder="Ou digite o nome do perfume..." onkeyup="filtrarPorTexto()">
    </div>

    <div class="vitrine" id="vitrine-perfumes"></div>

    <div class="modal-overlay" id="modal-overlay" onclick="fecharModal(event)">
        <div class="modal-content">
            <button class="btn-fechar" onclick="fecharModalForce()">&times;</button>
            <div class="modal-col-esq">
                <img src="" id="modal-img" class="modal-foto-grande" onerror="this.src='https://via.placeholder.com/400x400?text=Sem+Foto'">
            </div>
            <div class="modal-col-dir">
                <h2 id="modal-nome" class="modal-titulo">Nome</h2>
                <h3 id="modal-preco" style="color:var(--brand-teal);">Preço</h3>
                <p id="modal-descricao" class="modal-descricao">Desc</p>
                <div class="look-card">
                    <img src="" id="modal-img-look" class="look-foto" onerror="this.src='https://via.placeholder.com/150?text=Look'">
                    <div class="look-texto">
                        <h4><i class="fa-solid fa-shirt"></i> Look Recomendado</h4>
                        <p id="modal-texto-look">Texto</p>
                    </div>
                </div>
                <a href="#" id="modal-btn-comprar" target="_blank">
                    <button class="btn-comprar-modal">COMPRAR AGORA <i class="fa-regular fa-credit-card"></i></button>
                </a>
            </div>
        </div>
    </div>

    <a href="https://wa.me/5561999999999" class="btn-whatsapp-float" target="_blank">
        <i class="fa-brands fa-whatsapp"></i>
    </a>

    <script>
        // --- DADOS (Use suas fotos locais em 'img') ---
        const listaPerfumes = [
            // MASCULINOS
            { id: 1, nome: "Bleu de Chanel", marca: "Chanel", genero: "masculino", preco: "R$ 899,00", tag: "noite", img: "imagens/bleu.jpg", descricao: "A fragrância do homem que recusa regras. Um amadeirado aromático intenso.", imgLook: "https://images.unsplash.com/photo-1507679799987-c73779587ccf?auto=format&fit=crop&w=300&q=80", textoLook: "Ideal para Terno, Blazer ou Camisa Social.", nota: "5.0", linkPagamento: "#" },
            { id: 2, nome: "Acqua di Giò", marca: "Giorgio Armani", genero: "masculino", preco: "R$ 450,00", tag: "dia", img: "imagens/acqua.jpg", descricao: "Frescor marinho puro, natural e autêntico.", imgLook: "https://images.unsplash.com/photo-1519058082700-08a0b56da9b4?auto=format&fit=crop&w=300&q=80", textoLook: "Combina com bermuda de linho, moda praia ou roupa de treino.", nota: "4.9", linkPagamento: "#" },
            { id: 3, nome: "Sauvage", marca: "Dior", genero: "masculino", preco: "R$ 650,00", tag: "noite", img: "imagens/sauvage.jpg", descricao: "Uma composição radicalmente fresca e nobre.", imgLook: "https://images.unsplash.com/photo-1487222477894-8943e31ef7b2?auto=format&fit=crop&w=300&q=80", textoLook: "Perfeito para Jaqueta de Couro e noites frias.", nota: "4.8", linkPagamento: "#" },
            { id: 4, nome: "Versace Pour Homme", marca: "Versace", genero: "masculino", preco: "R$ 390,00", tag: "dia", img: "imagens/versace.jpg", descricao: "Clássico e contemporâneo. Limão siciliano e sálvia.", imgLook: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=300&q=80", textoLook: "O par perfeito para Jeans e Camiseta Branca básica.", nota: "4.7", linkPagamento: "#" },

            // FEMININOS
            { id: 5, nome: "La Vie Est Belle", marca: "Lancôme", genero: "feminino", preco: "R$ 520,00", tag: "noite", img: "imagens/lavie.jpg", descricao: "Um manifesto de felicidade. Íris gourmand.", imgLook: "https://images.unsplash.com/photo-1566174053879-31528523f8ae?auto=format&fit=crop&w=300&q=80", textoLook: "Combina com Vestidos de Festa e elegância noturna.", nota: "5.0", linkPagamento: "#" },
            { id: 6, nome: "Good Girl", marca: "Carolina Herrera", genero: "feminino", preco: "R$ 599,00", tag: "noite", img: "imagens/goodgirl.jpg", descricao: "Audaz, sexy e enigmática.", imgLook: "https://images.unsplash.com/photo-1543163521-1bf539c55dd2?auto=format&fit=crop&w=300&q=80", textoLook: "Exige Salto Alto e uma atitude poderosa.", nota: "4.9", linkPagamento: "#" },
            { id: 7, nome: "Idôle", marca: "Lancôme", genero: "feminino", preco: "R$ 480,00", tag: "dia", img: "imagens/idole.jpg", descricao: "Para mulheres que ousam sonhar. Chipre floral limpo.", imgLook: "https://images.unsplash.com/photo-1608234807905-4466023792f5?auto=format&fit=crop&w=300&q=80", textoLook: "Ideal para Alfaiataria e ambiente de trabalho.", nota: "4.8", linkPagamento: "#" },
            { id: 8, nome: "Light Blue", marca: "Dolce & Gabbana", genero: "feminino", preco: "R$ 420,00", tag: "dia", img: "imagens/lightblue.jpg", descricao: "A alegria de viver mediterrânea. Dias ensolarados.", imgLook: "https://images.unsplash.com/photo-1502716119720-b23a93e5fe1b?auto=format&fit=crop&w=300&q=80", textoLook: "Perfeito para vestidos leves e praia.", nota: "4.7", linkPagamento: "#" }
        ];

        let generoAtual = null; 
        let ocasiaoAtual = 'todos';

        const vitrine = document.getElementById('vitrine-perfumes');
        const modal = document.getElementById('modal-overlay');

        function toggleAccordion(generoClicado) {
            const colMasc = document.getElementById('col-masc');
            const colFem = document.getElementById('col-fem');

            if(generoClicado === 'masculino') {
                if (colMasc.classList.contains('ativo')) return; 
                colMasc.classList.add('ativo');
                colFem.classList.remove('ativo');
                filtrarFinal('masculino', 'todos', colMasc.querySelector('.btn-sub'));
            } else {
                if (colFem.classList.contains('ativo')) return;
                colFem.classList.add('ativo');
                colMasc.classList.remove('ativo');
                filtrarFinal('feminino', 'todos', colFem.querySelector('.btn-sub'));
            }
        }

        function filtrarFinal(genero, ocasiao, botaoClicado) {
            generoAtual = genero;
            ocasiaoAtual = ocasiao;
            const colunaAtiva = document.getElementById(genero === 'masculino' ? 'col-masc' : 'col-fem');
            colunaAtiva.querySelectorAll('.btn-sub').forEach(btn => btn.classList.remove('ativo'));
            if(botaoClicado) botaoClicado.classList.add('ativo');

            let listaFiltrada = listaPerfumes.filter(p => p.genero === generoAtual);
            if (ocasiaoAtual !== 'todos') {
                listaFiltrada = listaFiltrada.filter(p => p.tag === ocasiaoAtual);
            }
            renderizar(listaFiltrada);
        }

        function resetarFiltros() {
            generoAtual = null;
            ocasiaoAtual = 'todos';
            document.getElementById('campo-busca').value = '';
            document.getElementById('col-masc').classList.remove('ativo');
            document.getElementById('col-fem').classList.remove('ativo');
            renderizar(listaPerfumes); 
        }

        function renderizar(lista) {
            vitrine.innerHTML = ""; 
            if(lista.length === 0) {
                vitrine.innerHTML = "<p style='width:100%; color:#888;'>Nenhum perfume encontrado.</p>";
                return;
            }
            lista.forEach((perfume) => {
                const cardHTML = `
                    <div class="card" onclick="abrirModal(${perfume.id})">
                        <img src="${perfume.img}" class="foto-perfume" alt="${perfume.nome}" onerror="this.src='https://via.placeholder.com/300x300?text=FOTO'">
                        <div class="marca">${perfume.marca}</div>
                        <div class="nome">${perfume.nome}</div>
                        <div class="avaliacao">★★★★★ <span style="color:#aaa; font-weight:normal">(${perfume.nota})</span></div>
                        <div class="preco">${perfume.preco}</div>
                        <button class="btn-ver-detalhes">Ver Detalhes</button>
                    </div>
                `;
                vitrine.innerHTML += cardHTML;
            });
        }

        function filtrarPorTexto() {
            const textoDigitado = document.getElementById('campo-busca').value.toLowerCase();
            if (textoDigitado === '') {
                if(generoAtual) {
                     let btnAtivo = document.querySelector('.filtro-coluna.ativo .btn-sub.ativo');
                     filtrarFinal(generoAtual, ocasiaoAtual, btnAtivo);
                } else {
                    resetarFiltros();
                }
                return;
            }
            document.getElementById('col-masc').classList.remove('ativo');
            document.getElementById('col-fem').classList.remove('ativo');
            const filtrados = listaPerfumes.filter(p => p.nome.toLowerCase().includes(textoDigitado) || p.marca.toLowerCase().includes(textoDigitado));
            renderizar(filtrados);
        }

        function abrirModal(id) {
            const perfume = listaPerfumes.find(p => p.id === id);
            document.getElementById('modal-img').src = perfume.img;
            document.getElementById('modal-nome').innerText = perfume.nome;
            document.getElementById('modal-preco').innerText = perfume.preco;
            document.getElementById('modal-descricao').innerText = perfume.descricao;
            document.getElementById('modal-img-look').src = perfume.imgLook;
            document.getElementById('modal-texto-look').innerText = perfume.textoLook;
            document.getElementById('modal-btn-comprar').href = perfume.linkPagamento;
            modal.style.display = 'flex';
        }
        function fecharModal(e) { if (e.target === modal) modal.style.display = 'none'; }
        function fecharModalForce() { modal.style.display = 'none'; }

        renderizar(listaPerfumes); 
    </script>

</body>
</html>