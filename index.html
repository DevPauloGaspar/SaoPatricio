<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>São Patrício - Consultoria de Fragrâncias</title>
    
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CONFIGURAÇÕES VISUAIS --- */
        :root {
            --brand-teal: #2eb0b8;   /* Azul Turquesa (Padrão/Masculino) */
            --brand-blue: #00235d;   /* Azul Marinho */
            --brand-rose: #d4889e;   /* NOVO: Rosé Elegante (Feminino) */
            --bg-color: #f4f7f6;     
            --card-bg: #ffffff;      
            --text-color: #333333;   
            --star-color: #FFD700;   
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 40px 20px;
        }

        .logo-top {
            max-width: 280px;
            height: auto;
            margin-bottom: 10px;
            margin-top: 10px;
        }

        h1.titulo-principal {
            color: var(--brand-blue);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        p.subtitulo {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 40px;
        }

        /* --- NOVA ESTRUTURA DE FILTROS (CASCATA/ACCORDION) --- */
        .filtros-wrapper {
            max-width: 600px;
            margin: 0 auto 50px auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* Botão de Reset (Ver Todos) */
        .btn-reset-todos {
            background: none;
            border: none;
            color: #888;
            font-weight: bold;
            cursor: pointer;
            padding: 10px;
            text-decoration: underline;
            transition: color 0.3s;
        }
        .btn-reset-todos:hover { color: var(--brand-blue); }

        /* Container dos botões principais lado a lado */
        .filtros-flex-container {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        /* Coluna individual de filtro (Masculino ou Feminino) */
        .filtro-coluna {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* Botões Principais (Gênero) */
        .btn-main-genero {
            background-color: white;
            border: 2px solid transparent; /* Borda transparente por padrão */
            padding: 15px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            color: #666; /* Cor neutra inicial */
        }

        /* Estilo Específico Masculino (Azul/Teal) */
        .btn-main-genero.masc:hover, .btn-main-genero.masc.ativo {
            background-color: var(--brand-teal);
            color: white;
            box-shadow: 0 8px 20px rgba(46, 176, 184, 0.3);
        }
        /* Estilo Específico Feminino (Rosé) */
        .btn-main-genero.fem:hover, .btn-main-genero.fem.ativo {
            background-color: var(--brand-rose);
            color: white;
            box-shadow: 0 8px 20px rgba(212, 136, 158, 0.3);
        }

        /* --- CASCATA DENTRO (ACCORDION CONTENT) --- */
        .accordion-content {
            max-height: 0; /* Começa fechado */
            overflow: hidden;
            transition: max-height 0.4s ease-out, opacity 0.4s ease-out, margin 0.4s ease;
            opacity: 0;
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 0;
            padding: 0 5px;
        }

        /* Quando a coluna está ativa, o accordion abre */
        .filtro-coluna.ativo .accordion-content {
            max-height: 150px; /* Altura suficiente para os botões internos */
            opacity: 1;
            margin-top: 15px;
        }

        /* Sub-botões (Dia/Noite) */
        .btn-sub {
            background-color: transparent;
            border: 1px solid #ddd;
            color: #888;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }

        /* Hover/Ativo dos Sub-botões Masculinos */
        .filtro-coluna.masc .btn-sub:hover, .filtro-coluna.masc .btn-sub.ativo {
            background-color: var(--brand-teal); color: white; border-color: var(--brand-teal);
        }
        /* Hover/Ativo dos Sub-botões Femininos (ROSÉ!) */
        .filtro-coluna.fem .btn-sub:hover, .filtro-coluna.fem .btn-sub.ativo {
            background-color: var(--brand-rose); color: white; border-color: var(--brand-rose);
        }


        /* BARRA DE PESQUISA */
        .search-container {
            margin-bottom: 40px;
            display: flex;
            justify-content: center;
        }
        .search-input {
            width: 100%; max-width: 400px; padding: 12px 20px; font-size: 1rem;
            border: 2px solid #e1e1e1; border-radius: 50px; outline: none; transition: all 0.3s;
        }
        .search-input:focus { border-color: var(--brand-teal); }

        /* VITRINE E CARDS (Mantido igual) */
        .vitrine { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; max-width: 1400px; margin: 0 auto; }
        .card { background-color: var(--card-bg); border: 1px solid #e1e1e1; border-radius: 25px; width: 280px; padding: 25px; box-shadow: 0 15px 30px rgba(0, 35, 93, 0.05); transition: all 0.3s ease; animation: fadeIn 0.6s ease-in-out; display: flex; flex-direction: column; cursor: pointer; position: relative; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .card:hover { transform: translateY(-10px); border-color: var(--brand-teal); }
        .foto-perfume { width: 100%; height: 250px; object-fit: cover; border-radius: 15px; margin-bottom: 15px; }
        .nome { color: var(--brand-blue); font-size: 1.3rem; font-weight: 700; margin-bottom: 2px; line-height: 1.2; }
        .marca { color: #888; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
        .avaliacao { color: var(--star-color); font-size: 0.9rem; margin-bottom: 10px; }
        .preco { color: var(--brand-teal); font-size: 1.2rem; font-weight: bold; margin-bottom: 15px; }
        .btn-ver-detalhes { background-color: transparent; border: 2px solid var(--brand-blue); color: var(--brand-blue); width: 100%; padding: 10px; border-radius: 10px; font-weight: bold; cursor: pointer; transition: 0.3s; margin-top: auto; }
        .btn-ver-detalhes:hover { background-color: var(--brand-blue); color: white; }

        /* MODAL (Mantido igual) */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 2000; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background-color: white; width: 90%; max-width: 900px; border-radius: 20px; padding: 30px; position: relative; display: flex; gap: 30px; box-shadow: 0 25px 50px rgba(0,0,0,0.5); animation: zoomIn 0.3s ease; flex-wrap: wrap; }
        @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .btn-fechar { position: absolute; top: 15px; right: 20px; font-size: 2rem; color: #888; cursor: pointer; border: none; background: none; }
        .modal-col-esq { flex: 1; display: flex; justify-content: center; align-items: center; background-color: #f4f7f6; border-radius: 15px; min-width: 250px; overflow: hidden; }
        .modal-foto-grande { width: 100%; height: 100%; object-fit: cover; border-radius: 15px; }
        .modal-col-dir { flex: 1.5; text-align: left; display: flex; flex-direction: column; justify-content: center; min-width: 300px; }
        .modal-titulo { font-size: 2rem; color: var(--brand-blue); margin-bottom: 5px; }
        .modal-descricao { font-size: 1rem; color: #555; line-height: 1.6; margin-bottom: 25px; font-style: italic; }
        .look-card { background-color: #f9f9f9; border: 1px solid #eee; border-radius: 15px; padding: 15px; display: flex; align-items: center; gap: 20px; margin-bottom: 25px; }
        .look-foto { width: 100px; height: 100px; border-radius: 10px; object-fit: cover; border: 2px solid var(--brand-teal); }
        .look-texto h4 { margin: 0 0 5px 0; color: var(--brand-blue); }
        .look-texto p { margin: 0; font-size: 0.9rem; color: #666; }
        .btn-comprar-modal { background-color: var(--brand-teal); color: white; border: none; padding: 18px; font-size: 1.2rem; font-weight: bold; border-radius: 10px; cursor: pointer; width: 100%; transition: 0.3s; }
        .btn-comprar-modal:hover { background-color: var(--brand-blue); }
        @media (max-width: 768px) { .modal-content { flex-direction: column; overflow-y: auto; max-height: 90vh; } }
        .btn-whatsapp-float { position: fixed; bottom: 30px; right: 30px; background-color: #25D366; color: white; width: 60px; height: 60px; border-radius: 50%; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 1000; display: flex; align-items: center; justify-content: center; transition: transform 0.3s; }
        .btn-whatsapp-float:hover { transform: scale(1.1); background-color: #128C7E; }
        .btn-whatsapp-float i { font-size: 30px; }

    </style>
</head>
<body>

    <img src="logo.png" alt="São Patrício Logo" class="logo-top" onerror="this.style.display='none'">
    
    <h1 class="titulo-principal">Consultoria de Fragrâncias e Estilo</h1>
    <p class="subtitulo">Descubra o perfume ideal para cada momento.</p>

    <div class="filtros-wrapper">
        
        <button class="btn-reset-todos" onclick="resetarFiltros()">Ver Todos os Perfumes</button>

        <div class="filtros-flex-container">
            
            <div class="filtro-coluna masc" id="col-masc">
                <button class="btn-main-genero masc" onclick="toggleAccordion('masculino')">
                    <i class="fa-solid fa-mars"></i> Para Eles
                </button>
                <div class="accordion-content">
                    <button class="btn-sub ativo" onclick="filtrarFinal('masculino', 'todos', this)">Tudo</button>
                    <button class="btn-sub" onclick="filtrarFinal('masculino', 'dia', this)"><i class="fa-regular fa-sun"></i> Dia</button>
                    <button class="btn-sub" onclick="filtrarFinal('masculino', 'noite', this)"><i class="fa-solid fa-moon"></i> Noite</button>
                </div>
            </div>

            <div class="filtro-coluna fem" id="col-fem">
                <button class="btn-main-genero fem" onclick="toggleAccordion('feminino')">
                    <i class="fa-solid fa-venus"></i> Para Elas
                </button>
                <div class="accordion-content">
                    <button class="btn-sub ativo" onclick="filtrarFinal('feminino', 'todos', this)">Tudo</button>
                    <button class="btn-sub" onclick="filtrarFinal('feminino', 'dia', this)"><i class="fa-regular fa-sun"></i> Dia</button>
                    <button class="btn-sub" onclick="filtrarFinal('feminino', 'noite', this)"><i class="fa-solid fa-moon"></i> Noite</button>
                </div>
            </div>

        </div>
    </div>
    <div class="search-container">
        <input type="text" id="campo-busca" class="search-input" placeholder="Ou digite o nome do perfume..." onkeyup="filtrarPorTexto()">
    </div>

    <div class="vitrine" id="vitrine-perfumes"></div>

    <div class="modal-overlay" id="modal-overlay" onclick="fecharModal(event)">
        <div class="modal-content">
            <button class="btn-fechar" onclick="fecharModalForce()">&times;</button>
            <div class="modal-col-esq">
                <img src="" id="modal-img" class="modal-foto-grande" onerror="this.src='https://via.placeholder.com/400x400?text=Sem+Foto'">
            </div>
            <div class="modal-col-dir">
                <h2 id="modal-nome" class="modal-titulo">Nome</h2>
                <h3 id="modal-preco" style="color:var(--brand-teal);">Preço</h3>
                <p id="modal-descricao" class="modal-descricao">Desc</p>
                <div class="look-card">
                    <img src="" id="modal-img-look" class="look-foto" onerror="this.src='https://via.placeholder.com/150?text=Look'">
                    <div class="look-texto">
                        <h4><i class="fa-solid fa-shirt"></i> Look Recomendado</h4>
                        <p id="modal-texto-look">Texto</p>
                    </div>
                </div>
                <a href="#" id="modal-btn-comprar" target="_blank">
                    <button class="btn-comprar-modal">COMPRAR AGORA <i class="fa-regular fa-credit-card"></i></button>
                </a>
            </div>
        </div>
    </div>

    <a href="https://wa.me/5561999999999" class="btn-whatsapp-float" target="_blank">
        <i class="fa-brands fa-whatsapp"></i>
    </a>

    <script>
        // --- DADOS DOS PERFUMES (Lembre de usar suas fotos locais) ---
        const listaPerfumes = [
            // MASCULINOS
            { id: 1, nome: "Bleu de Chanel", marca: "Chanel", genero: "masculino", preco: "R$ 899,00", tag: "noite", img: "imagens/bleu.jpg", descricao: "A fragrância do homem que recusa regras. Um amadeirado aromático intenso, elegante e misterioso.", imgLook: "https://images.unsplash.com/photo-1507679799987-c73779587ccf?auto=format&fit=crop&w=300&q=80", textoLook: "Ideal para Terno, Blazer ou Camisa Social. Perfeito para reuniões e casamentos.", nota: "5.0", linkPagamento: "#" },
            { id: 2, nome: "Acqua di Giò", marca: "Giorgio Armani", genero: "masculino", preco: "R$ 450,00", tag: "dia", img: "imagens/acqua.jpg", descricao: "Frescor marinho puro, natural e autêntico. Inspirado na beleza de Pantelleria.", imgLook: "https://images.unsplash.com/photo-1519058082700-08a0b56da9b4?auto=format&fit=crop&w=300&q=80", textoLook: "Combina com bermuda de linho, moda praia ou roupa de treino.", nota: "4.9", linkPagamento: "#" },
            { id: 3, nome: "Sauvage", marca: "Dior", genero: "masculino", preco: "R$ 650,00", tag: "noite", img: "imagens/sauvage.jpg", descricao: "Uma composição radicalmente fresca e nobre. Ditada por um nome que soa como um manifesto.", imgLook: "https://images.unsplash.com/photo-1487222477894-8943e31ef7b2?auto=format&fit=crop&w=300&q=80", textoLook: "Perfeito para Jaqueta de Couro, All Black e noites frias.", nota: "4.8", linkPagamento: "#" },
            { id: 4, nome: "Versace Pour Homme", marca: "Versace", genero: "masculino", preco: "R$ 390,00", tag: "dia", img: "imagens/versace.jpg", descricao: "Clássico e contemporâneo. Notas de limão siciliano e sálvia definem esse aroma.", imgLook: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=300&q=80", textoLook: "O par perfeito para Jeans e Camiseta Branca básica.", nota: "4.7", linkPagamento: "#" },

            // FEMININOS
            { id: 5, nome: "La Vie Est Belle", marca: "Lancôme", genero: "feminino", preco: "R$ 520,00", tag: "noite", img: "imagens/lavie.jpg", descricao: "Um manifesto de felicidade. A primeira íris gourmand, feita para mulheres que querem brilhar.", imgLook: "https://images.unsplash.com/photo-1566174053879-31528523f8ae?auto=format&fit=crop&w=300&q=80", textoLook: "Combina com Vestidos de Festa, paetês e elegância noturna.", nota: "5.0", linkPagamento: "#" },
            { id: 6, nome: "Good Girl", marca: "Carolina Herrera", genero: "feminino", preco: "R$ 599,00", tag: "noite", img: "imagens/goodgirl.jpg", descricao: "Audaz, sexy e enigmática. Para a mulher que ama seu lado bom e celebra seu lado mau.", imgLook: "https://images.unsplash.com/photo-1543163521-1bf539c55dd2?auto=format&fit=crop&w=300&q=80", textoLook: "Exige Salto Alto, batom vermelho e uma atitude poderosa.", nota: "4.9", linkPagamento: "#" },
            { id: 7, nome: "Idôle", marca: "Lancôme", genero: "feminino", preco: "R$ 480,00", tag: "dia", img: "imagens/idole.jpg", descricao: "Para mulheres que ousam sonhar. Um chipre floral limpo, moderno e radiante.", imgLook: "https://images.unsplash.com/photo-1608234807905-4466023792f5?auto=format&fit=crop&w=300&q=80", textoLook: "Ideal para Alfaiataria, Blazers e ambiente de trabalho.", nota: "4.8", linkPagamento: "#" },
            { id: 8, nome: "Light Blue", marca: "Dolce & Gabbana", genero: "feminino", preco: "R$ 420,00", tag: "dia", img: "imagens/lightblue.jpg", descricao: "A alegria de viver mediterrânea. Captura os dias ensolarados de verão.", imgLook: "https://images.unsplash.com/photo-1502716119720-b23a93e5fe1b?auto=format&fit=crop&w=300&q=80", textoLook: "Perfeito para vestidos leves, estampas florais e praia.", nota: "4.7", linkPagamento: "#" }
        ];

        // --- ESTADO DOS FILTROS ---
        let generoAtual = null; // null = mostra tudo
        let ocasiaoAtual = 'todos';

        const vitrine = document.getElementById('vitrine-perfumes');
        const modal = document.getElementById('modal-overlay');

        // --- NOVA LÓGICA DE ACCORDION E FILTRO ---

        // 1. Função para abrir/fechar o accordion (cascata)
        function toggleAccordion(generoClicado) {
            const colMasc = document.getElementById('col-masc');
            const colFem = document.getElementById('col-fem');

            // Se clicou no masculino
            if(generoClicado === 'masculino') {
                // Se já estava aberto, não faz nada (ou poderia fechar, mas acho melhor manter aberto para filtrar)
                if (colMasc.classList.contains('ativo')) return;
                
                // Abre o masculino, fecha o feminino
                colMasc.classList.add('ativo');
                colFem.classList.remove('ativo');
                // Filtra automaticamente para todos os masculinos ao abrir
                filtrarFinal('masculino', 'todos', colMasc.querySelector('.btn-sub'));

            } else { // Clicou no feminino
                if (colFem.classList.contains('ativo')) return;
                
                colFem.classList.add('ativo');
                colMasc.classList.remove('ativo');
                 // Filtra automaticamente para todos os femininos ao abrir
                filtrarFinal('feminino', 'todos', colFem.querySelector('.btn-sub'));
            }
        }

        // 2. Função que aplica o filtro final (Gênero + Ocasião)
        function filtrarFinal(genero, ocasiao, botaoClicado) {
            generoAtual = genero;
            ocasiaoAtual = ocasiao;

            // Atualiza visual dos botões menores dentro da coluna ativa
            const colunaAtiva = document.getElementById(genero === 'masculino' ? 'col-masc' : 'col-fem');
            colunaAtiva.querySelectorAll('.btn-sub').forEach(btn => btn.classList.remove('ativo'));
            if(botaoClicado) botaoClicado.classList.add('ativo');

            // Aplica o filtro na lista
            let listaFiltrada = listaPerfumes.filter(p => p.genero === generoAtual);
            if (ocasiaoAtual !== 'todos') {
                listaFiltrada = listaFiltrada.filter(p => p.tag === ocasiaoAtual);
            }
            renderizar(listaFiltrada);
        }

        // 3. Função para resetar tudo (botão "Ver Todos")
        function resetarFiltros() {
            generoAtual = null;
            ocasiaoAtual = 'todos';
            document.getElementById('campo-busca').value = '';
            // Fecha os accordions e remove ativos
            document.getElementById('col-masc').classList.remove('ativo');
            document.getElementById('col-fem').classList.remove('ativo');
            document.querySelectorAll('.btn-main-genero, .btn-sub').forEach(btn => btn.classList.remove('ativo'));
            
            renderizar(listaPerfumes); // Mostra tudo
        }

        // --- RENDERIZAR VITRINE (Mantido) ---
        function renderizar(lista) {
            vitrine.innerHTML = ""; 
            if(lista.length === 0) {
                vitrine.innerHTML = "<p style='width:100%; color:#888;'>Nenhum perfume encontrado nesta categoria.</p>";
                return;
            }
            lista.forEach((perfume) => {
                const cardHTML = `
                    <div class="card" onclick="abrirModal(${perfume.id})">
                        <img src="${perfume.img}" class="foto-perfume" alt="${perfume.nome}" onerror="this.src='https://via.placeholder.com/300x300?text=FOTO+PENDENTE'">
                        <div class="marca">${perfume.marca}</div>
                        <div class="nome">${perfume.nome}</div>
                        <div class="avaliacao">★★★★★ <span style="color:#aaa; font-weight:normal">(${perfume.nota})</span></div>
                        <div class="preco">${perfume.preco}</div>
                        <button class="btn-ver-detalhes">Ver Detalhes</button>
                    </div>
                `;
                vitrine.innerHTML += cardHTML;
            });
        }

        // --- BUSCA POR TEXTO ---
        function filtrarPorTexto() {
            const textoDigitado = document.getElementById('campo-busca').value.toLowerCase();
            if (textoDigitado === '') {
                // Se limpou a busca, volta para o estado atual dos filtros
                if(generoAtual) {
                     // Re-aplica o filtro que estava ativo
                     let btnAtivo = document.querySelector('.filtro-coluna.ativo .btn-sub.ativo');
                     filtrarFinal(generoAtual, ocasiaoAtual, btnAtivo);
                } else {
                    resetarFiltros();
                }
                return;
            }
            // Se digitou, fecha os filtros visuais para não confundir
            document.getElementById('col-masc').classList.remove('ativo');
            document.getElementById('col-fem').classList.remove('ativo');

            const filtrados = listaPerfumes.filter(p => 
                p.nome.toLowerCase().includes(textoDigitado) || 
                p.marca.toLowerCase().includes(textoDigitado)
            );
            renderizar(filtrados);
        }

        // --- MODAL (Mantido) ---
        function abrirModal(id) {
            const perfume = listaPerfumes.find(p => p.id === id);
            document.getElementById('modal-img').src = perfume.img;
            document.getElementById('modal-nome').innerText = perfume.nome;
            document.getElementById('modal-preco').innerText = perfume.preco;
            document.getElementById('modal-descricao').innerText = perfume.descricao;
            document.getElementById('modal-img-look').src = perfume.imgLook;
            document.getElementById('modal-texto-look').innerText = perfume.textoLook;
            document.getElementById('modal-btn-comprar').href = perfume.linkPagamento;
            modal.style.display = 'flex';
        }
        function fecharModal(e) { if (e.target === modal) modal.style.display = 'none'; }
        function fecharModalForce() { modal.style.display = 'none'; }

        // INICIA MOSTRANDO TUDO
        renderizar(listaPerfumes); 
    </script>

</body>
</html>